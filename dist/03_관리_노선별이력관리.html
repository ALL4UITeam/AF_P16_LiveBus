<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LIVE BUS</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="./assets/fonts/esamanru.css">
    <link rel="stylesheet" href="./lib/simplebar/simplebar.css">
    <link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
    <script src="https://unpkg.com/gridjs/dist/gridjs.umd.js"></script>
    <script src="./lib/simplebar/simplebar.min.js"></script>  <script type="module" src="./assets/js/index2.js"></script>
  <link rel="stylesheet" href="./assets/css/index.css">
</head>

<body>

    <div class="app">
        <!-- 상단바 -->
        <header class="topbar" role="banner">
            
            <div class="topbar__brand" aria-label="브랜드">
                <h2 class="brand__logo"><img src="./assets/images/logo.png" alt=""></h2>
            </div>
        
            <div class="topbar__actions">
                <button class="icon-notice" onclick="openModal('alertModal')" aria-label="알림">
                    <span>1</span>
                </button>
                <div class="avatar">
                    <span class="avatar__circle" aria-hidden="true"></span>
                    <span class="avatar__label">관리자님</span>
                </div>
                <label class="burger" for="nav-toggle" aria-label="메뉴 열기/닫기">
                    <span class="burger"></span>
                </label>
            </div>
        </header>
        
        <!-- 좌측 사이드바 -->
        <aside class="sidenav" aria-label="주 메뉴">
            <div class="sidenav__logo">
                <a href=""><img src="./assets/images/white-logo.png" alt=""></a>
            </div>
        
            <nav class="sidenav__nav" data-simplebar>
                <details class="nav-sec">
                    <summary class="sec01">
                        <span><i class="icon"></i>대시보드</span>
                    </summary>
                    <details class="nav-sub">
                        <summary>대시보드</summary>
                        <ul class="nav-list">
                            <li><a href="#">대시보드</a></li>
                    </details>
                </details>
                <details class="nav-sec">
                    <summary class="sec02">
                        <span><i class="icon"></i>지도서비스</span>
                    </summary>
                    <details class="nav-sub">
                        <summary>버스</summary>
                        <ul class="nav-list">
                            <li><a href="#">운행형황(노선)</a></li>
                            <li><a href="#">운행현황(정류장)</a></li>
                            <li><a href="#">버스활동</a></li>
                        </ul>
                    </details>
                    <details class="nav-sub">
                        <summary>정류장</summary>
                        <ul class="nav-list">
                            <li><a href="#">정류장</a></li>
                        </ul>
                    </details>
                    <details class="nav-sub">
                        <summary>노선</summary>
                        <ul class="nav-list">
                            <li><a href="#">정류장</a></li>
                        </ul>
                    </details>
                </details>
        
                <details class="nav-sec" open>
                    <summary class="sec03">
                        <span><i class="icon"></i>관리</span>
                    </summary>
        
                    <details class="nav-sub" open>
                        <summary>운행 관리</summary>
                        <ul class="nav-list">
                            <li class="is-active"><a href="#">배차관리</a></li>
                            <li><a href="#">노선별이력관리</a></li>
                            <li><a href="#">운행버스 현황</a></li>
                            <li><a href="#">단말기 현황</a></li>
                        </ul>
                    </details>
        
                    <details class="nav-sub">
                        <summary>단말기 관리</summary>
                        <ul class="nav-list">
                            <li><a href="#">단말기 현황</a></li>
                            <li><a href="#">단말기 관리</a></li>
                        </ul>
                    </details>
        
                    <details class="nav-sub">
                        <summary>BIT 관리</summary>
                        <ul class="nav-list">
                            <li><a href="#">BIT 대시보스</a></li>
                            <li><a href="#">BIT 기기 관리</a></li>
                            <li><a href="#">BIT 시나리오</a></li>
                            <li><a href="#">BIT 광고 관리</a></li>
                        </ul>
                    </details>
        
                    <details class="nav-sub">
                        <summary>시스템 관리</summary>
                        <ul class="nav-list">
                            <li><a href="#">사용자 관리</a></li>
                            <li><a href="#">그룹 관리</a></li>
                            <li><a href="#">메뉴 관리</a></li>
                            <li><a href="#">권한 관리</a></li>
                            <li><a href="#">코드 관리</a></li>
                            <li><a href="#">도움말</a></li>
                            <li><a href="#">유지관리 업체</a></li>
                        </ul>
                    </details>
        
                    <details class="nav-sub">
                        <summary>웹서비스 관리</summary>
                        <ul class="nav-list">
                            <li><a href="#">공지사항 관리</a></li>
                            <li><a href="#">연계 현황</a></li>
                            <li><a href="#">연계 키 관리</a></li>
                            <li><a href="#">접속 통계</a></li>
                            <li><a href="#">이용 통계</a></li>
                        </ul>
                    </details>
                    <details class="nav-sub">
                        <summary>서비스 정보</summary>
                        <ul class="nav-list">
                            <li><a href="#">공지사항 관리</a></li>
                            <li><a href="#">연계 현황</a></li>
                            <li><a href="#">연계 키 관리</a></li>
                            <li><a href="#">접속 통계</a></li>
                            <li><a href="#">이용 통계</a></li>
                        </ul>
                    </details>
                </details>
        
                <details class="nav-sec">
                    <summary class="sec04">
                        <span><i class="icon"></i>통계</span>
                    </summary>
                    <details class="nav-sub">
                        <summary>운행 통계</summary>
                        <ul class="nav-list">
                            <li><a href="#">운행 이력 관리</a></li>
                            <li><a href="#">운행 달력 보기</a></li>
                            <li><a href="#">기간별 운행 통계</a></li>
                            <li><a href="#">돌발 상황 통계</a></li>
                        </ul>
                    </details>
                    <details class="nav-sub">
                        <summary>감지 통계</summary>
                        <ul class="nav-list">
                            <li><a href="#">차량별 이벤트 수집율</a></li>
                            <li><a href="#">노선별 배차간격</a></li>
                            <li><a href="#">노선별 정류소 감지율</a></li>
                        </ul>
                    </details>
                </details>
        
                <details class="nav-sec">
                    <summary class="sec05">
                        <span><i class="icon"></i>알림</span>
                    </summary>
                    <details class="nav-sub">
                        <summary>버스 수신 이상</summary>
                        <ul class="nav-list">
                            <li><a href="#">버스 수신 이상</a></li>
                        </ul>
                    </details>
                    <details class="nav-sub">
                        <summary>BIT 수신 이상</summary>
                        <ul class="nav-list">
                            <li><a href="#">BIT 수신 이상</a></li>
                        </ul>
                    </details>
                </details>
            </nav>
        </aside>        <!-- 컨텐츠 영역 -->
        <main class="content" role="main" data-simplebar> 
            <div class="page-header">
                <!-- 브레드크럼 -->
                <nav class="breadcrumb">
                    <span>관리</span>
                    <span class="divider">›</span>
                    <span>기반관리</span>
                    <span class="divider">›</span>
                    <span class="current">운수업체 관리</span>
                </nav>
                <!-- 페이지 타이틀 -->
                <h1 class="page-title">운수업체 관리</h1>
            </div>
            <div>
                <!-- chart -->
                <div class="chart-area" style="height: 300px;">
                    차트영역
                </div>
                <!-- Grid.js 테이블 -->
                <div id="grid"></div>
            
                <div class="btn-group between">
                    <div>
                        <button class="btn danger">삭제</button>
                    </div>
                    <div>
                        <button class="btn border-primary">수정</button>
                        <button class="btn primary">등록</button>
                        <button class="btn btn-down">엑셀 다운로드</button>
                    </div>
                    
                </div>
            </div>
        </main>
    </div>

    <!-- 이상알림 모달 -->
    <div id="alertModal" class="modal">
    	<div class="modal-dialog">
    		<div class="modal-header">
    			<span>수신이상 알림</span>
    			<button onclick="closeModal('alertModal')"></button>
    		</div>
    		<div class="modal-content">
    			<div class="modal--alerts">
    				<div class="modal--alerts__col">
    					<h3>BIT 수신 이상 알림</h3>
    					<div class="modal--alerts__item">
    						<div class="head">
    							<span class="chip" style="background: #ffddd1;"><i aria-hidden="true" style="background: #f1784a;"></i>통신이상</span>
    							<span class="data">2025-08-26 15:23</span>
    						</div>
    						<h4 class="ti">한빛아파트 (신관초방면) 통신이상</h4>
    						<p class="info">(ARS : 1472 / BIT ID : 35)</p>
    					</div>
    					<div class="modal--alerts__item">
    						<div class="head">
    							<span class="chip" style="background: #ffddd1;"><i aria-hidden="true" style="background: #f1784a;"></i>통신이상</span>
    							<span class="data">2025-08-26 15:23</span>
    						</div>
    						<h4 class="ti">한빛아파트 (신관초방면) 통신이상</h4>
    						<p class="info">(ARS : 1472 / BIT ID : 35)</p>
    					</div>
    					<div class="modal--alerts__item">
    						<div class="head">
    							<span class="chip" style="background: #ffddd1;"><i aria-hidden="true" style="background: #f1784a;"></i>통신이상</span>
    							<span class="data">2025-08-26 15:23</span>
    						</div>
    						<h4 class="ti">한빛아파트 (신관초방면) 통신이상</h4>
    						<p class="info">(ARS : 1472 / BIT ID : 35)</p>
    					</div>
    				</div>
    				<div class="modal--alerts__col">
    					<h3>버스 수신 이상 알림</h3>
    					<div class="modal--alerts__item">
    						<div class="head">
    							<span class="chip" style="background: #e7e7f6;"><i aria-hidden="true" style="background: #f1784a;"></i>통신이상</span>
    							<span class="data">2025-08-26 15:23</span>
    						</div>
    						<h4 class="ti">32-5번 통신이상</h4>
    						<p class="info">(ARS : 1472 / BIT ID : 35)</p>
    					</div>
    					<div class="modal--alerts__item">
    						<div class="head">
    							<span class="chip" style="background: #e7e7f6;"><i aria-hidden="true" style="background: #f1784a;"></i>통신이상</span>
    							<span class="data">2025-08-26 15:23</span>
    						</div>
    						<h4 class="ti">32-5번 통신이상</h4>
    						<p class="info">(ARS : 1472 / BIT ID : 35)</p>
    					</div>
    					<div class="modal--alerts__item">
    						<div class="head">
    							<span class="chip" style="background: #e7e7f6;"><i aria-hidden="true" style="background: #f1784a;"></i>통신이상</span>
    							<span class="data">2025-08-26 15:23</span>
    						</div>
    						<h4 class="ti">32-5번 통신이상</h4>
    						<p class="info">(ARS : 1472 / BIT ID : 35)</p>
    					</div>
    				</div>
    			</div>
    		</div>
    	</div>
    </div>
    <script>
        const data = [
            [
                gridjs.html('<input type="checkbox" id="chk1" class="checkbox__input" />'),
                "10",
                "은영리무진",
                "033-542-5682",
                "12대",
                "2대",
                "강원도 동해시 동해동 강원도 동해동...",
                "홍길동",
                "-"
            ],
            [
                gridjs.html('<input type="checkbox" id="chk1" class="checkbox__input" />'),
                "11",
                "은영리무진",
                "033-123-4567",
                "5대",
                "1대",
                "강원도 동해시 동 로...",
                "이순신",
                "-"
            ]
        ];

        // ✅ Grid 생성
        new gridjs.Grid({
            columns: [
                {
                    name: gridjs.html('<input type="checkbox" id="chk-all" class="checkbox__input" />'), // 헤더에 전체 선택 체크박스
                    width: '80px'
                },
                { name: "NO", width: "120px" },
                "운수업체명",
                "전화번호",
                "차량대수",
                "예비대수",
                "주소",
                "대표자",
                "비고"
            ],
            data: data,
            pagination: {
                enabled: true,
                limit: 5
            },
            sort: true,
            search: true,
            language: {
                'search': {
                    'placeholder': '검색어를 입력해주세요.'
                },
                'pagination': {
                    'previous': '이전',
                    'next': '다음',
                    'showing': '총',
                    'results': () => '개'
                }
            }
        }).render(document.getElementById("grid"));

        // ✅ 전체선택 기능
        document.addEventListener("change", function (e) {
            if (e.target.id === "check-all") {
                const checked = e.target.checked;
                document.querySelectorAll(".row-check").forEach(cb => {
                    cb.checked = checked;
                });
            }
        });
    </script>

</body>

</html>