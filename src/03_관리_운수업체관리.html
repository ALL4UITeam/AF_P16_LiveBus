<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>LIVE BUS</title>
    {{> meta}}
</head>

<body>

    <div class="app">
        {{> header}}
        <!-- 컨텐츠 영역 -->
        <main class="content" role="main" data-simplebar> 
            <div class="page-header">
                <!-- 브레드크럼 -->
                <nav class="breadcrumb">
                    <span>관리</span>
                    <span class="divider">›</span>
                    <span>기반관리</span>
                    <span class="divider">›</span>
                    <span class="current">운수업체 관리</span>
                </nav>
                <!-- 페이지 타이틀 -->
                <h1 class="page-title">운수업체 관리</h1>
            </div>
            <div>
                <!-- Grid.js 테이블 -->
                <div id="grid"></div>
            
                <div class="btn-group between">
                    <div>
                        <button class="btn danger">삭제</button>
                    </div>
                    <div>
                        <button class="btn border-primary">수정</button>
                        <button class="btn primary">등록</button>
                        <button class="btn btn-down">엑셀 다운로드</button>
                    </div>
                    
                </div>
            </div>
            <button onclick="openModal('statsModal')">운행버스 현황 정보</button>
            <button onclick="openModal('notice-regi-Modal')">공지사항 등록</button>
            <button onclick="openModal('notice-detail-Modal')">공지사항 등록</button>
        </main>
    </div>

    <!-- 이상알림 모달 -->
    <div id="statsModal" class="modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <span>운행버스 현황 정보</span>
                <button onclick="closeModal('statsModal')"></button>
            </div>
            <div class="modal-content">
                <div class="stats--modal">
                    <div class="stats--modal__inner">
                        <div class="modal__card">
                            <h3 class="stats--modal__title">운수업체</h3>
                            <form class="form">
                                <label class="form-group">
                                    <span class="form-ti w100">운수업체명</span>
                                    <input class="form-control" type="text" value="리무진" />
                                </label>
                                <label class="form-group">
                                    <span class="form-ti w100">전화번호</span>
                                    <input class="form-control" type="text" value="033-1234-5678" />
                                </label>
                                <label class="form-group">
                                    <span class="form-ti w100">주소</span>
                                    <input class="form-control" type="text" value="강원도 특별자치도 동해시 동해동 1-56" />
                                </label>
                                <label class="form-group">
                                    <span class="form-ti w100">대표자</span>
                                    <input class="form-control" type="text" value="홍길동" />
                                </label>
                                <label class="form-group ti-top">
                                    <span class="form-ti w100">비고</span>
                                    <textarea class="form-control" placeholder="비고를 입력하여주십시오."></textarea>
                                </label>
                            </form>
                            <div class="btn-group center">
                                <button class="btn round--btn primary">수정</button>
                            </div>
                        </div>

                        <!-- 차량 -->
                        <div class="modal__card">
                            <h3 class="stats--modal__title">
                                차량 
                            </h3>
                            <div class="sub">총 <b>12</b>대 / 예비 <b>2</b>대</div>
                            <table class="tbl">
                                <thead>
                                    <tr>
                                        <th>NO</th>
                                        <th>차량번호</th>
                                        <th>차량유형</th>
                                        <th>예비여부</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="checkbox">
                                                <input type="checkbox" id="chk1" class="checkbox__input" />
                                                <label for="chk1" class="checkbox__label">1</label>
                                            </div>
                                        </td>
                                        <td>강원34바352</td>
                                        <td>일반</td>
                                        <td>Y</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="checkbox">
                                                <input type="checkbox" id="chk2" class="checkbox__input" />
                                                <label for="chk2" class="checkbox__label">2</label>
                                            </div>
                                        </td>
                                        <td>강원34바352</td>
                                        <td>일반</td>
                                        <td>Y</td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="btn-group center">
                                <button class="btn round--btn danger">삭제</button>
                                <button class="btn round--btn primary">추가</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- 공지사항 등록 모달 -->
    <div id="notice-regi-Modal" class="modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <span>공지사항 등록</span>
                <button onclick="closeModal('notice-regi-Modal')"></button>
            </div>
            <div class="modal-content">
                <div class="notice--regi--modal">
                    <div class="modal__card">
                        <form class="form">
                            <label class="form-group">
                                <span class="form-ti w100">제목</span>
                                <input class="form-control" type="text" placeholder="제목을 입력해주세요." />
                            </label>
                            <label class="form-group">
                                <span class="form-ti w100">구분</span>
                                <select name="" id="" class="form-control">
                                    <option value="">공지구분을 선택해주세요</option>
                                </select>
                            </label>
                            <label class="form-group">
                                <span class="form-ti w100">공지 사용 여부</span>
                                <div>
                                    <div class="radio">
                                        <input type="radio" id="r1" name="radioGroup" class="radio__input" checked />
                                        <label for="r1" class="radio__label">사용</label>
                                    </div>

                                    <div class="radio">
                                        <input type="radio" id="r2" name="radioGroup" class="radio__input" />
                                        <label for="r2" class="radio__label">미사용</label>
                                    </div>
                                </div>
                            
                            </label>
                            <label class="form-group ti-top">
                                <span class="form-ti w100">내용</span>
                                <textarea class="form-control" style="height: 100px;" placeholder="내용을 입력하여주세요."></textarea>
                            </label>
                            <label class="form-group ti-top">
                                <span class="form-ti w100">첨부파일</span>
                                <div class="upload-inner">
                                    <div class="upload-box">
                                        <p>첨부할 파일을 여기에 끌어다 놓거나 파일 선택 버튼을 직접 선택해주세요.</p>
                                        <button type="button" class="btn-upload">첨부파일</button>
                                        <input type="file" id="fileInput" hidden />
                                    </div>
                                
                                    <!-- 업로드된 파일 리스트 -->
                                    <div class="file-list">
                                        <div class="file-item">
                                            <div class="file-info">
                                                <span class="file-icon"><img src="./assets/images/dash/ico-file-down.png" alt="파일 아이콘"></span>
                                                <span class="file-name">공지사항 시간 안내</span>
                                                <span class="file-ext">[png, 10MB]</span>
                                            </div>
                                            <button class="btn-download"><img src="./assets/images/dash/ico-file-down.png" alt="다운로드 아이콘"></button>
                                        </div>
                                    </div>
                                </div>
                                
                            </label>
                        </form>
                        <div class="btn-group center">
                            <button class="btn round--btn danger">수정</button>
                            <button class="btn round--btn primary">저장</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- 공지사항 상세 모달 -->
    <div id="notice-detail-Modal" class="modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <span>공지사항 등록</span>
                <button onclick="closeModal('notice-detail-Modal')"></button>
            </div>
            <div class="modal-content">
                <div class="notice--detail--modal">
                    <div class="modal__card">
                        <div class="notice-header">
                            <div class="notice-left">
                                <span class="badge badge-danger">긴급 / 중요</span>
                                <span class="notice-title">조회 오류 알림</span>
                            </div>
                            <div class="notice-right">
                                <span class="notice-writer">관리자</span>
                                <span class="divider">|</span>
                                <span class="notice-date">2025-08-25 15:35:35</span>
                            </div>
                        </div>
                        <hr class="notice-divider"/>
                        <label class="form-group">
                            <span class="form-ti w100">공지사용여부</span>
                            <span>사용</span>
                        </label>
                        <label class="form-group ti-top">
                            <span class="form-ti w100">내용</span>
                            <div>
                                <div class="notice-content">
                                    안정적인 서비스 제공을 위해 시스템 점검 예정입니다.
                                    아래 기간 동안 일시적으로 서비스 이용이 불가하오니 이용에 참고 부탁드립니다.

                                    [2025년 10월10일]
                                    AM: 02:00 ~ 08:00
                                </div>
                                <div class="upload-inner">    
                                    <!-- 업로드된 파일 리스트 -->
                                    <div class="file-list">
                                        <div class="file-item">
                                            <div class="file-info">
                                                <span class="file-icon"><img src="./assets/images/dash/ico-file-down.png"
                                                        alt="파일 아이콘"></span>
                                                <span class="file-name">공지사항 시간 안내</span>
                                                <span class="file-ext">[png, 10MB]</span>
                                            </div>
                                            <button class="btn-download"><img src="./assets/images/dash/ico-file-down.png"
                                                    alt="다운로드 아이콘"></button>
                                        </div>
                                        <div class="file-item">
                                            <div class="file-info">
                                                <span class="file-icon"><img src="./assets/images/dash/ico-file-down.png"
                                                        alt="파일 아이콘"></span>
                                                <span class="file-name">공지사항 시간 안내</span>
                                                <span class="file-ext">[png, 10MB]</span>
                                            </div>
                                            <button class="btn-download"><img src="./assets/images/dash/ico-file-down.png"
                                                    alt="다운로드 아이콘"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </label>
                        <div class="btn-group center">
                            <button class="btn round--btn danger">닫기</button>
                            <button class="btn round--btn primary">저장</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {{> footer}}

    <script>
        const data = [
            [
                gridjs.html('<input type="checkbox" id="chk1" class="checkbox__input" />'),
                "10",
                "은영리무진",
                "033-542-5682",
                "12대",
                "2대",
                "강원도 동해시 동해동 강원도 동해동...",
                "홍길동",
                "-"
            ],
            [
                gridjs.html('<input type="checkbox" id="chk1" class="checkbox__input" />'),
                "11",
                "은영리무진",
                "033-123-4567",
                "5대",
                "1대",
                "강원도 동해시 동 로...",
                "이순신",
                "-"
            ]
        ];

        // ✅ Grid 생성
        new gridjs.Grid({
            columns: [
                {
                    name: gridjs.html('<input type="checkbox" id="chk-all" class="checkbox__input" />'), // 헤더에 전체 선택 체크박스
                    width: '80px'
                },
                { name: "NO", width: "120px" },
                "운수업체명",
                "전화번호",
                "차량대수",
                "예비대수",
                "주소",
                "대표자",
                "비고"
            ],
            data: data,
            pagination: {
                enabled: true,
                limit: 5
            },
            sort: true,
            search: true,
            language: {
                'search': {
                    'placeholder': '검색어를 입력해주세요.'
                },
                'pagination': {
                    'previous': '이전',
                    'next': '다음',
                    'showing': '총',
                    'results': () => '개'
                }
            }
        }).render(document.getElementById("grid"));

        // ✅ 전체선택 기능
        document.addEventListener("change", function (e) {
            if (e.target.id === "check-all") {
                const checked = e.target.checked;
                document.querySelectorAll(".row-check").forEach(cb => {
                    cb.checked = checked;
                });
            }
        });
    </script>

</body>

</html>